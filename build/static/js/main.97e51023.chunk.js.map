{"version":3,"sources":["components/main/CreateRoom.js","components/main/Room.js","constants.js","actions/auth.js","components/main/Home.js","actions/types.js","components/account/Login.js","components/main/ClassList.js","utils.js","components/common/PrivateRoute.js","App.js","serviceWorker.js","reducers/auth.js","reducers/errors.js","reducers/index.js","store.js","index.js"],"names":["CreateRoom","props","onClick","id","uuid","history","push","StyledVideo","styled","video","Video","ref","useRef","useEffect","peer","on","stream","current","srcObject","playsInline","autoPlay","Room","muteUnmute","enabled","userVideo","getAudioTracks","playStop","getVideoTracks","socketRef","React","createRef","state","peers","roomID","match","params","roomId","peersRef","this","io","connect","navigator","mediaDevices","getUserMedia","audio","then","emit","auth","user","users","forEach","userID","createPeer","setState","peerID","payload","addPeer","signal","callerID","find","p","userToSignal","Peer","initiator","trickle","incomingSignal","className","muted","map","index","key","type","placeholder","Component","isAuthenticated","error","errors","withStyles","theme","host","endpoint","endpointForAuth","getClassURL","tokenConfig","getState","token","config","headers","Home","logout","to","dispatch","axios","post","res","data","catch","err","console","log","Login","onSubmit","e","preventDefault","login","username","password","onChange","target","name","value","prop","path","undefined","location","pathname","msg","Alert","variant","non_field_errors","required","redirect","withRouter","body","JSON","stringify","response","status","loadStudentProfile","ClassList","create","baseURL","classListData","createRoom","Authorization","get","classes","style","marginTop","Button","color","component","rest","render","isLoading","App","exact","Boolean","window","hostname","initialState","localStorage","getItem","combineReducers","action","setItem","middleware","thunk","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","createMuiTheme","palette","primary","main","green","ReactDOM","utils","MomentUtils","document","getElementById","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.97e51023.chunk.js","sourcesContent":["import React from \"react\";\nimport { v1 as uuid } from \"uuid\";\n\nconst CreateRoom = (props) => {\n  function create() {\n    const id = uuid();\n    props.history.push(`/room/${id}`);\n  }\n\n  return <button onClick={create}>Create room</button>;\n};\n\nexport default CreateRoom;\n","import React, { Component, useEffect, useRef } from \"react\";\nimport io from \"socket.io-client\";\nimport Peer from \"simple-peer\";\nimport styled from \"styled-components\";\nimport \"./room.css\";\n\nimport { connect } from \"react-redux\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = (theme) => ({});\n\nconst StyledVideo = styled.video`\n  height: 40%;\n  width: 50%;\n`;\n\nconst Video = (props) => {\n  const ref = useRef();\n\n  useEffect(() => {\n    props.peer.on(\"stream\", (stream) => {\n      ref.current.srcObject = stream;\n    });\n  }, []);\n\n  return <StyledVideo playsInline autoPlay ref={ref} />;\n};\n\nclass Room extends Component {\n  constructor(props) {\n    super(props);\n    this.socketRef = React.createRef();\n    this.userVideo = React.createRef();\n\n    this.state = {\n      peers: [],\n      roomID: this.props.match.params.roomId,\n      peersRef: [],\n    };\n  }\n\n  componentDidMount() {\n    // initialize server\n    this.socketRef.current = io.connect(\"https://education-in.herokuapp.com/\");\n    // join meeting\n    navigator.mediaDevices.getUserMedia({\n      video: true,\n      audio: true,\n    }).then((stream) => {\n      this.userVideo.current.srcObject = stream;\n      this.socketRef.current.emit(\n        \"join room\",\n        this.state.roomID,\n        this.props.auth.user.id\n      );\n\n      // all users get\n      this.socketRef.current.on(\"all users\", (users) => {\n        users.forEach((userID) => {\n          const peer = this.createPeer(\n            userID,\n            this.socketRef.current.id,\n            stream\n          );\n          this.setState({\n            peers: [...this.state.peers, peer],\n            peersRef: [...this.state.peersRef, { peerID: userID, peer }],\n          });\n        });\n      });\n\n      // new user join\n      this.socketRef.current.on(\"user joined\", (payload) => {\n        const peer = this.addPeer(payload.signal, payload.callerID, stream);\n        this.setState({\n          peers: [...this.state.peers, peer],\n          peersRef: [\n            ...this.state.peersRef,\n            { peerID: payload.callerID, peer },\n          ],\n        });\n      });\n\n      // \n      this.socketRef.current.on(\"receiving returned signal\", (payload) => {\n        const item = this.state.peersRef.find((p) => p.peerID === payload.id);\n        item.peer.signal(payload.signal);\n      });\n    });\n  }\n\n  createPeer(userToSignal, callerID, stream) {\n    const peer = new Peer({\n      initiator: true,\n      trickle: false,\n      stream,\n    });\n\n    peer.on(\"signal\", (signal) => {\n      this.socketRef.current.emit(\"sending signal\", {\n        userToSignal,\n        callerID,\n        signal,\n      });\n    });\n    return peer;\n  }\n\n  addPeer(incomingSignal, callerID, stream) {\n    const peer = new Peer({\n      initiator: false,\n      trickle: false,\n      stream,\n    });\n\n    peer.on(\"signal\", (signal) => {\n      this.socketRef.current.emit(\"returning signal\", { signal, callerID });\n    });\n\n    peer.signal(incomingSignal);\n\n    return peer;\n  }\n\n  muteUnmute = () => {\n    const enabled = this.userVideo.current.srcObject.getAudioTracks()[0]\n      .enabled;\n\n    if (enabled) {\n      this.userVideo.current.srcObject.getAudioTracks()[0].enabled = false;\n    } else {\n      this.userVideo.current.srcObject.getAudioTracks()[0].enabled = true;\n    }\n  };\n\n  playStop = () => {\n    const enabled = this.userVideo.current.srcObject.getVideoTracks()[0]\n      .enabled;\n\n    if (enabled) {\n      this.userVideo.current.srcObject.getVideoTracks()[0].enabled = false;\n    } else {\n      this.userVideo.current.srcObject.getVideoTracks()[0].enabled = true;\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"main\">\n        <div className=\"main__left\">\n          <div className=\"main__videos\">\n            <div id=\"video-grid\">\n              <StyledVideo muted ref={this.userVideo} autoPlay playsInline />\n              {this.state.peers.map((peer, index) => {\n                return <Video key={index} peer={peer} />;\n              })}\n            </div>\n          </div>\n          <div className=\"main__controls\">\n            <div className=\"main__controls__block\">\n              <div\n                onClick={() => this.muteUnmute()}\n                className=\"main__controls__button main__mute_button\"\n              >\n                <i className=\"fas fa-microphone\"></i>\n                <span>Mute</span>\n              </div>\n              <div\n                onClick={() => this.playStop()}\n                className=\"main__controls__button main__video_button\"\n              >\n                <i className=\"fas fa-video\"></i>\n                <span>Stop Video</span>\n              </div>\n            </div>\n            <div className=\"main__controls__block\">\n              <div className=\"main__controls__button\">\n                <i className=\"fas fa-shield-alt\"></i>\n                <span>Security</span>\n              </div>\n              <div className=\"main__controls__button\">\n                <i className=\"fas fa-user-friends\"></i>\n                <span>Participants</span>\n              </div>\n              <div className=\"main__controls__button\">\n                <i className=\"fas fa-comment-alt\"></i>\n                <span>Chat</span>\n              </div>\n            </div>\n            <div className=\"main__controls__block\">\n              <div className=\"main__controls__button\">\n                <span className=\"leave_meeting\">Leave Meeting</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"main__right\">\n          <div className=\"main__header\">\n            <h6>Chat</h6>\n          </div>\n          <div className=\"main__chat_window\">\n            <ul className=\"messages\"></ul>\n          </div>\n          <div className=\"main__message_container\">\n            <input\n              id=\"chat_message\"\n              type=\"text\"\n              placeholder=\"Type message here...\"\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  auth: state.auth,\n  error: state.errors,\n});\n\nexport default connect(mapStateToProps, {})(withStyles(styles)(Room));","export const host = \"https://education-in2.herokuapp.com\";\n\nconst apiURL = \"/api\";\n\nconst apiAuthUrl = \"/api/auth\";\n\nexport const endpoint = `${host}${apiURL}`;\n\nexport const endpointForAuth = `${host}${apiAuthUrl}`;\n\nexport const loginURL = `${endpointForAuth}/login`;\n\nexport const getClassURL = `${endpointForAuth}/getClass`;\n","import axios from \"axios\";\nimport {\n  USER_LOADED,\n  USER_LOADING,\n  AUTH_ERROR,\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  LOGOUT_SUCCESS,\n  REGISTER_SUCCESS,\n  REGISTER_FAIL,\n} from \"./types\";\nimport { host } from \"../constants\";\n\n//Cheak Token and load user\nexport const loadUser = () => (dispatch, getState) => {\n  //User Loading\n  dispatch({ type: USER_LOADING });\n\n  axios\n    .get(`${host}/api/auth/user`, tokenConfig(getState))\n    .then((res) => {\n      dispatch({\n        type: USER_LOADED,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: AUTH_ERROR,\n      });\n    });\n};\n\nexport const login = (username, password) => (dispatch) => {\n  // Headers\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n\n  // Request Body\n  const body = JSON.stringify({ username, password });\n\n  axios\n    .post(`${host}/api/auth/login`, body, config)\n    .then((res) => {\n      dispatch({\n        type: LOGIN_SUCCESS,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      const errors = {\n        msg: err.response.data,\n        status: err.response.status,\n      };\n      dispatch({\n        type: LOGIN_FAIL,\n        payload: errors,\n      });\n    });\n};\n\nexport const adminlogin = (username, password) => (dispatch) => {\n  // Headers\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n\n  // Request Body\n  const body = JSON.stringify({ username, password });\n\n  axios\n    .post(`${host}/api/auth/adminLogin`, body, config)\n    .then((res) => {\n      dispatch({\n        type: LOGIN_SUCCESS,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      const errors = {\n        msg: err.response.data,\n        status: err.response.status,\n      };\n      dispatch({\n        type: LOGIN_FAIL,\n        payload: errors,\n      });\n    });\n};\n\n//LOGOUT\nexport const logout = () => (dispatch, getState) => {\n  axios\n    .post(`${host}/api/auth/logout`, null, tokenConfig(getState))\n    .then((res) => {\n      dispatch({\n        type: LOGOUT_SUCCESS,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n};\n\nexport const tokenConfig = (getState) => {\n  //GET TOKEN FROM STATE\n  const token = getState().auth.token;\n\n  //Headers\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  //if token , add to header config\n  if (token) {\n    config.headers[\"Authorization\"] = `Token ${token}`;\n  }\n  return config;\n};\n","import React, { Component } from 'react'\nimport { connect } from \"react-redux\";\nimport { logout } from \"../../actions/auth\"\nimport { Link } from \"react-router-dom\"\n\nclass Home extends Component {\n\n\n  render() {\n    return (\n      <div>\n        {this.props.auth.isAuthenticated ? <div><button onClick={this.props.logout}>\n          logout\n        </button> <Link to=\"/create\">Create meeting</Link> </div> : <Link to=\"/login\">Login</Link>}\n\n\n\n      </div>\n    )\n  }\n}\n\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  auth: state.auth,\n  error: state.errors,\n});\n\nexport default connect(mapStateToProps, { logout })(Home);","export const USER_LOADING = \"USER_LOADING\";\nexport const USER_LOADED = \"USER_LOADED\";\nexport const AUTH_ERROR = \"AUTH_ERROR\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\nexport const LOGOUT_SUCCESS = \"LOGOUT_SUCCESS\";\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\nexport const REGISTER_FAIL = \"REGISTER_FAIL\";\n","import React, { Component } from \"react\";\nimport { Redirect, withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport { login } from \"../../actions/auth\";\nimport { loadStudentProfile } from \"../../actions/profile\";\nimport { Alert } from \"react-bootstrap\";\n\nexport class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      prop: this.props,\n      path: \"/\",\n    };\n  }\n  static propTypes = {\n    login: PropTypes.func.isRequired,\n    isAuthenticated: PropTypes.bool,\n  };\n\n  componentDidMount() {\n    if (this.state.prop.location.state !== undefined) {\n      this.setState({ path: this.state.prop.location.state.pathname });\n    }\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    this.props.login(this.state.username, this.state.password);\n  };\n\n  onChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  nothing() {}\n\n  render() {\n    if (this.props.isAuthenticated) {\n      return <Redirect to=\"/\" />;\n    }\n    const { username, password } = this.state;\n    return (\n      <div>\n        {this.props.error.msg.username ? (\n          <Alert variant=\"primary\">Fill the Email</Alert>\n        ) : (\n          <div></div>\n        )}\n        {this.props.error.msg.password ? (\n          <Alert variant=\"primary\">Fill the Password</Alert>\n        ) : (\n          <div></div>\n        )}\n        {this.props.error.msg.non_field_errors ? (\n          <Alert variant=\"primary\">Fill Correct Password and Email</Alert>\n        ) : (\n          <div></div>\n        )}\n\n        <div className=\"col-md-6 m-auto\">\n          <div className=\"card card-body mt-5\">\n            <h2 className=\"text-center\">Login</h2>\n            <form onSubmit={this.onSubmit}>\n              <div className=\"form-group\">\n                <label>Username</label>\n                <input\n                  className=\"form-control\"\n                  name=\"username\"\n                  onChange={this.onChange}\n                  value={username}\n                  required\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Password</label>\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  name=\"password\"\n                  onChange={this.onChange}\n                  value={password}\n                  required\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <button\n                  onClick={this.redirect}\n                  type=\"submit\"\n                  className=\"btn btn-primary\"\n                >\n                  Login\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n        <br />\n        <br />\n        <br />\n        <br />\n        <br />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  auth: state.auth,\n  error: state.errors,\n});\n\nexport default withRouter(\n  connect(mapStateToProps, { login, loadStudentProfile })(Login)\n);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport { getClassURL } from \"../../constants\";\nimport { authAxios } from \"../../utils\";\n\nconst styles = (theme) => ({});\n\nclass ClassList extends Component {\n  state = {\n    classListData: [],\n  };\n\n  componentDidMount() {\n    authAxios(this.props.auth.token)\n      .get(`${getClassURL}`)\n      .then((res) =>\n        this.setState({\n          classListData: res.data,\n        })\n      );\n  }\n\n  createRoom = (id) => {\n    this.props.history.push(`/room/${id}`);\n  };\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className=\"container\" style={{ marginTop: 40 }}>\n        {this.state.classListData.map((data) => (\n          <div>\n            {data.name}\n            <Button\n              onClick={() => this.createRoom(data.id)}\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              Enter\n            </Button>\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isAuthenticated: state.auth.isAuthenticated,\n  auth: state.auth,\n  error: state.errors,\n});\n\nexport default connect(mapStateToProps, {})(withStyles(styles)(ClassList));\n","import axios from \"axios\";\nimport { endpoint } from \"./constants\";\n\nexport const authAxios = (token) =>\n  axios.create({\n    baseURL: endpoint,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Token ${token}`,\n    },\n  });\n\nexport const guestAxios = axios.create({\n  baseURL: endpoint,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nvar a = true;\n\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\n  <Route\n    {...rest}\n    render={(props) => {\n      if (auth.isLoading) {\n        return undefined;\n      } else if (!auth.isAuthenticated) {\n        return (\n          <Redirect\n            to={{\n              pathname: \"/\",\n              state: props.location,\n            }}\n          />\n        );\n      } else {\n        return <Component {...props} />;\n      }\n    }}\n  />\n);\n\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n});\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import React, { Fragment } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport CreateRoom from \"./components/main/CreateRoom\";\nimport Room from \"./components/main/Room\";\nimport Home from \"./components/main/Home\";\nimport Login from \"./components/account/Login\";\nimport ClassList from \"./components/main/ClassList\";\n\nimport PrivateRoute from \"./components/common/PrivateRoute\";\n\nfunction App() {\n  return (\n    <Fragment>\n      <Router>\n        <Switch>\n          <Route path=\"/\" exact component={Home} />\n          <PrivateRoute path=\"/classes\" component={ClassList} />\n          <Route path=\"/create\" component={CreateRoom} />\n          <Route path=\"/room/:roomId\" component={Room} />\n          <Route path=\"/login\" component={Login} />\n        </Switch>\n      </Router>\n    </Fragment>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {\n  USER_LOADING,\n  USER_LOADED,\n  AUTH_ERROR,\n  LOGIN_FAIL,\n  LOGIN_SUCCESS,\n  LOGOUT_SUCCESS,\n  REGISTER_SUCCESS,\n  REGISTER_FAIL,\n} from \"../actions/types.js\";\n\nconst initialState = {\n  token: localStorage.getItem(\"token\"),\n  isAuthenticated: null,\n  isLoading: false,\n  user: null,\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case USER_LOADING:\n      return {\n        ...state,\n        isLoading: true,\n      };\n    case USER_LOADED:\n      return {\n        ...state,\n        isAuthenticated: true,\n        isLoading: false,\n        user: action.payload,\n      };\n    case LOGIN_SUCCESS:\n      localStorage.setItem(\"token\", action.payload.token);\n      return {\n        ...state,\n        ...action.payload,\n        isAuthenticated: true,\n        isLoading: false,\n      };\n\n    case REGISTER_SUCCESS:\n    case REGISTER_FAIL:\n      return {\n        ...state,\n        isAuthenticated: true,\n        isLoading: false,\n      };\n\n    case AUTH_ERROR:\n    case LOGIN_FAIL:\n    case LOGOUT_SUCCESS:\n      return {\n        ...state,\n        token: null,\n        user: null,\n        isAuthenticated: false,\n        isLoading: false,\n      };\n    default:\n      return state;\n  }\n}\n","import { LOGIN_FAIL, REGISTER_FAIL } from \"../actions/types\";\n\nconst initialState = {\n  msg: {},\n  status: null\n};\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case LOGIN_FAIL:\n    case REGISTER_FAIL:\n      return {\n        msg: action.payload.msg,\n        status: action.payload.status\n      };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\nimport auth from \"./auth\";\nimport errors from \"./errors\";\n\nexport default combineReducers({\n  errors,\n  auth\n});\n","import { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\n\nconst initialState = {};\n\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeWithDevTools(applyMiddleware(...middleware))\n);\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n// import \"https://source.zoom.us/1.8.6/css/bootstrap.css\"\n// import \"https://source.zoom.us/1.8.6/css/react-select.css\"\n\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\nimport { ThemeProvider as MuiThemeProvider } from \"@material-ui/core/styles\";\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\nimport green from \"@material-ui/core/colors/green\";\n\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport { loadUser } from \"./actions/auth\";\nstore.dispatch(loadUser());\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: { main: green[700] },\n  },\n});\n\nReactDOM.render(\n  <Provider store={store}>\n    <MuiThemeProvider theme={theme}>\n      <MuiPickersUtilsProvider utils={MomentUtils}>\n        <App />\n      </MuiPickersUtilsProvider>\n    </MuiThemeProvider>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}